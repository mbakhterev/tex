\usepackage{calc}
\usepackage{currfile}

\usepackage{amsthm}
\usepackage{stackengine}

\usepackage{setspace}

\usepackage{iftex}

\ifXeTeX
  \usepackage{amsmath, mathspec}
  \usepackage{polyglossia}
  \setdefaultlanguage{russian}
  \setotherlanguages{english}

  \defaultfontfeatures{Ligatures=TeX}

  \setmainfont{DejaVu Sans ExtraLight}
  \setsansfont{DejaVu Sans ExtraLight}
  \setmonofont{DejaVu Sans Mono}

  \setmathfont(Digits,Latin,Greek){DejaVu Math TeX Gyre}
  \setmathrm{DejaVu Serif Condensed}
  \setmathtt{DejaVu Sans Mono}

  \newcommand\textgreek[1]{#1}
\else
  \usepackage[T2A]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage[english,russian]{babel}

  \usepackage{amsmath}
  \usepackage{amsfonts}
  \usepackage{amssymb}
\fi

\ifphd\usepackage{enumitem}\fi

\iffive
  \usepackage{enumitem}
  \usepackage{fancyhdr}

  \usepackage[a5paper, includeheadfoot,
              hmargin={2em, 2em}, vmargin={0pt,1em},
              footskip=0pt, headsep=0pt, headheight=1em]{geometry}

  \pagestyle{fancy}
  \fancyhf{}
  \fancyhead[R]{\footnotesize{\thepage}}

  \renewcommand\headrulewidth{0pt}

  \onehalfspacing
\fi

\ifsix
  \usepackage{enumitem}
  \usepackage{fancyhdr}

  \usepackage[a6paper, includeheadfoot,
              hmargin={1em, 1em}, vmargin={0em, 0em},
              footskip=1em, headsep=0em, headheight=1em]{geometry}

  \pagestyle{fancy}
  \fancyhf{}
  \fancyhead[R]{\footnotesize{\thepage}}

  \renewcommand\headrulewidth{0pt}

  \onehalfspacing
\fi
